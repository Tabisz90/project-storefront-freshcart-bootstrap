<ng-container *ngIf="isNavbarVisible$ | async as isNavbarVisible">
  <ng-container *ngIf="categories$ | async as categories">
    <header>
      <div class="bg-light py-1">
        <div class="container">
          <div class="row">
            <div class="col-md-6 col-12 text-center text-md-start">
              <span> Super Value Deals - Save more with coupons</span>
            </div>
          </div>
        </div>
      </div>
      <div class="navbar navbar-light py-lg-4 pt-3 px-0 pb-0">
        <div class="container">
          <div class="row w-100 align-items-center g-lg-2 g-0">
            <div class="col-xxl-2 col-lg-3">
              <a class="navbar-brand d-none d-lg-block" routerLink="/">
                <img
                  src="assets/images/logo/freshcart-logo.svg"
                  alt="eCommerce HTML Template"
                />
              </a>
              <div class="d-flex justify-content-between w-100 d-lg-none">
                <a class="navbar-brand" routerLink="/">
                  <img
                    src="assets/images/logo/freshcart-logo.svg"
                    alt="eCommerce HTML Template"
                  />
                </a>
                <div class="d-flex align-items-center lh-1">
                  <button
                    class="navbar-toggler collapsed"
                    type="button"
                    aria-controls="navbar-default"
                    aria-label="Toggle navigation"
                    (click)="toggleNavbar(isNavbarVisible.isNavbarVisible)"
                  >
                    <span class="icon-bar top-bar mt-0"></span>
                    <span class="icon-bar middle-bar"></span>
                    <span class="icon-bar bottom-bar"></span>
                  </button>
                </div>
              </div>
            </div>
            <div class="col col-xxl-10 col-lg-3">
              <div
                class="d-flex justify-content-end"
                *ngIf="freshProductsIds$ | async as freshProducts"
              >
                <a routerLink="/basket" class="position-relative"
                  ><img
                    class="img-fluid"
                    src="assets/libs/feather-icons/dist/icons/shopping-bag.svg"
                    alt="basket"
                  />
                  <span
                    *ngIf="freshProducts.length > 0"
                    class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-success"
                    >{{ freshProducts.length }}</span
                  >
                </a>
              </div>
            </div>
          </div>
          <ul class="nav pt-3 navbar-expand-lg d-lg-flex d-none">
            <li *ngFor="let category of categories" class="nav-item">
              <a class="nav-link" [routerLink]="category.link" role="button">
                {{ category.name }}
              </a>
            </li>
          </ul>
        </div>
      </div>
    </header>
    <div class="border-bottom pb-lg-0 pb-3 mb-lg-13 mb-9">
      <nav
        class="navbar navbar-expand-lg navbar-light navbar-default pt-0 pb-0 d-lg-none"
      >
        <div class="container px-0 px-md-3">
          <div
            class="offcanvas offcanvas-start p-4 p-lg-0"
            [ngClass]="{
              show: isNavbarVisible.isNavbarVisible
            }"
          >
            <div
              class="d-flex justify-content-between align-items-center mb-2 d-block d-lg-none"
            >
              <a routerLink="/"
                ><img
                  src="assets/images/logo/freshcart-logo.svg"
                  alt="eCommerce HTML Template"
              /></a>
              <button
                type="button"
                class="btn-close"
                aria-label="Close"
                (click)="toggleNavbar(isNavbarVisible.isNavbarVisible)"
              ></button>
            </div>
            <div class="d-block">
              <ul class="navbar-nav pt-3 navbar-nav-offcanvac">
                <li *ngFor="let category of categories" class="nav-item">
                  <a
                    class="nav-link"
                    [routerLink]="category.link"
                    role="button"
                  >
                    {{ category.name }}
                  </a>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </nav>
    </div>
  </ng-container>
</ng-container>
